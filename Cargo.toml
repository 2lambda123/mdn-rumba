[package]
name = "rumba"
version = "0.0.1"
edition = "2021"

[lib]
path = "src/lib.rs"

[[bin]]
name = "rumba"
path = "src/main.rs"

[dependencies]
thiserror = "1.0"
anyhow = "1.0"

actix-web = "4"
actix-http = "3"
actix-rt = "2"
actix-identity = "0.4"
actix-session = { version = "0.6", features = ["cookie-session"] }
actix-web-httpauth = "0.6"

diesel = { version = "2.0.0-rc.0", features = ["postgres", "uuid", "r2d2", "chrono", "serde_json"] }
diesel_migrations = "2.0.0-rc.0"
diesel-derive-enum = { git = "https://github.com/adwhit/diesel-derive-enum", version = "2.0.0-pre", features = ["postgres"] } # "postgres", "mysql" or "sqlite"

elasticsearch = "7.14.0-alpha.1"
serde_urlencoded = "0.7.1"
form_urlencoded = "1.0.1"
serde_path_to_error = "0.1.7"

r2d2 = "0.8"

openidconnect = "2"
reqwest = { version = "0.11", features = ["blocking", "json"] }
jsonwebtoken = "8"

serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
serde_with = { version = "1", features = ["base64"]}

log = "0.4"
env_logger = "0.9"
config = "0.13"

uuid = { version = "1", features = ["serde", "v4"] }
chrono = "0.4"
url = "2"
base64 = "0.13"

once_cell = "1"

[dev-dependencies]
stubr = "0.4.14"
stubr-attributes = "0.5.0-rc.1"